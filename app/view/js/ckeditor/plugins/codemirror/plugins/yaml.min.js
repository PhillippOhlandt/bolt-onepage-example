// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
!function(a){"object"==typeof exports&&"object"==typeof module?// CommonJS
a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?// AMD
define(["../../lib/codemirror"],a):// Plain browser env
a(CodeMirror)}(function(a){"use strict";a.defineMode("yaml",function(){var a=["true","false","on","off","yes","no"],b=new RegExp("\\b(("+a.join(")|(")+"))$","i");return{token:function(a,c){var d=a.peek(),e=c.escaped;/* comments */
if(c.escaped=!1,"#"==d&&(0==a.pos||/\s/.test(a.string.charAt(a.pos-1))))return a.skipToEnd(),"comment";if(c.literal&&a.indentation()>c.keyCol)return a.skipToEnd(),"string";if(c.literal&&(c.literal=!1),a.sol()){/* document start */
if(c.keyCol=0,c.pair=!1,c.pairStart=!1,a.match(/---/))return"def";/* document end */
if(a.match(/\.\.\./))return"def";/* array list item */
if(a.match(/\s*-\s+/))return"meta"}/* inline pairs/lists */
if(a.match(/^(\{|\}|\[|\])/))return"{"==d?c.inlinePairs++:"}"==d?c.inlinePairs--:"["==d?c.inlineList++:c.inlineList--,"meta";/* list seperator */
if(c.inlineList>0&&!e&&","==d)return a.next(),"meta";/* pairs seperator */
if(c.inlinePairs>0&&!e&&","==d)return c.keyCol=0,c.pair=!1,c.pairStart=!1,a.next(),"meta";/* start of value of a pair */
if(c.pairStart){/* block literals */
if(a.match(/^\s*(\||\>)\s*/))return c.literal=!0,"meta";/* references */
if(a.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";/* numbers */
if(0==c.inlinePairs&&a.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(c.inlinePairs>0&&a.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";/* keywords */
if(a.match(b))return"keyword"}/* pairs (associative arrays) -> key */
/* pairs (associative arrays) -> key */
/* nothing found, continue */
return!c.pair&&a.match(/^\s*\S+(?=\s*:($|\s))/i)?(c.pair=!0,c.keyCol=a.indentation(),"atom"):c.pair&&a.match(/^:\s*/)?(c.pairStart=!0,"meta"):(c.pairStart=!1,c.escaped="\\"==d,a.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),a.defineMIME("text/x-yaml","yaml")});